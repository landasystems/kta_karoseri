<div class="modal-header">
    <h3 class="modal-title">Form Detail Bill of Material</h3>
</div>
<div class="modal-body">
    <form name="modalform" class="form-horizontal form-validation">
        <div class="form-group">
            <label class="col-sm-2 control-label">Bagian</label>
            <div class="col-sm-10">
                <div class="input-group">
                    <ui-select ng-model="formmodal.bagian" theme="bootstrap" style="width: 100%">
                        <ui-select-match>{{$select.selected.jabatan}}</ui-select-match>
                        <ui-select-choices refresh="cariBagian($select.search)" repeat="val in resultsjabatan">
                            {{val.jabatan}}
                        </ui-select-choices>
                    </ui-select>
                    <span class="input-group-btn">
                        <button ng-click="formmodal.bagian = undefined" class="btn btn-default">
                            <span class="glyphicon glyphicon-trash"></span>
                        </button>
                    </span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Barang</label>
            <div class="col-sm-10">
                <div class="input-group">
                    <ui-select ng-model="formmodal.barang" theme="bootstrap" style="width: 100%" ng-selected="formmodal.satuan = $select.selected.satuan">
                        <ui-select-match>{{$select.selected.nm_barang}}</ui-select-match>
                        <!--                        <ui-select-choices refresh="cariBarang($select.search)" repeat="val in resultsbarang">
                                                    {{val.nm_barang}}
                                                </ui-select-choices>-->
                        <ui-select-choices group-by="'group'" refresh="cariBarang($select.search)" repeat="val in resultsbarang">
                            <div ng-bind-html="val.nm_barang | highlight: $select.search"></div>
                            <small>
                                Harga @ <span ng-bind-html="val.harga | currency"></span>
                            </small>
                        </ui-select-choices>
                    </ui-select>
                    <span class="input-group-btn">
                        <button ng-click="formmodal.barang = undefined" class="btn btn-default">
                            <span class="glyphicon glyphicon-trash"></span>
                        </button>
                    </span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Harga</label>
            <div class="col-sm-10">
                <p class="form-control-static">{{formmodal.barang.harga | currency}}</p>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Qty</label>
            <div class="col-sm-10">
                <div class="col-md-2" style="padding-left: 0px;">
                    <input type="text" class="form-control" ng-model="formmodal.qty" style="width:70px">
                </div>
                <div class="col-md-10">
                    <p class="form-control-static">{{formmodal.barang.satuan}}</p>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Keterangan</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" ng-model="formmodal.ket">
            </div>
        </div>
    </form>
</div>
<div class="modal-footer">                  
    <button class="btn btn-primary" ng-click="cancel()">Close Form</button>
</div>